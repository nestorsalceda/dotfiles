#!/bin/zsh

function create_symlinks() {
	symlinks=(vimrc gvimrc gitconfig)
	for symlink in $symlinks; do
		echo "Creating symlink to ~/.$symlink"
		ln -sf $PWD/$symlink ~/.$symlink
	done
}

function install_or_upgrade_vundle() {
	vundle_dir=~/.vim/bundle/vundle
	if [[ ! -d $vundle_dir ]]; then
		git clone http://github.com/gmarik/vundle.git $vundle_dir
	else
		pushd $vundle_dir
		git pull
		popd
	fi

	vim -c "BundleInstall!" -c ":q!" -c ":q!"
}

function install_or_upgrade_oh_my_zsh() {
	oh_my_zsh_dir=~/.oh-my-zsh
	if [[ ! -d $oh_my_zsh_dir ]]; then
		git clone git://github.com/robbyrussell/oh-my-zsh.git $oh_my_zsh_dir
	else
		pushd $oh_my_zsh_dir
		git pull
		popd
	fi
	ln -sf $PWD/zsh/zshrc ~/.zshrc
	ln -sf $PWD/zsh/nestor_salceda.zsh-theme ~/.oh-my-zsh/themes/nestor_salceda.zsh-theme
	ln -sf $PWD/zsh/virtualenvwrapper.zsh ~/.oh-my-zsh/custom/virtualenvwrapper.zsh
}

create_symlinks
install_or_upgrade_vundle
install_or_upgrade_oh_my_zsh
